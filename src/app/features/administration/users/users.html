<div ba-panel ba-panel-title="用户列表" ba-panel-class="with-scroll" cg-busy="[vm.loadPromise, vm.deletePromise]">

    <div>
        <div class="add-row-editable-table">
            <form class="form-inline" ng-submit="vm.search()">
                <input type="userName" class="form-control" id="userName" placeholder="按用户名搜索" ng-model="vm.search.userName">
                <button type="submit" class="btn btn-default">搜索</button>
                <button class="btn btn-primary pull-right" ng-click="vm.add()">添加</button>
            </form>
        </div>

        <div class="horizontal-scroll">
            <table class="table" st-table="vm.users" st-pipe="vm.load" ng-if="!vm.hideTable">
                <thead>
                    <tr>
                        <th class="table-id"></th>
                        <th>ID</th>
                        <th>用户名</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in vm.users">
                        <td class="table-id">{{$index + 1}}</td>
                        <td>{{item.id}}</td>
                        <td>{{item.userName}}</td>
                        <td>
                            <button class="btn btn-primary editable-table-button btn-xs" sweetalert sweet-options='vm.resetPasswordSweetOptions' sweet-on-confirm="vm.resetPassword(item)">重置密码</button>
                            <button class="btn btn-danger editable-table-button btn-xs" sweetalert sweet-options='vm.deleteSweetOptions' sweet-on-confirm="vm.remove(item)">删除</button>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td class="text-center" colspan="4">
                            <div st-pagination="" st-items-by-page="10" st-displayed-pages="5"></div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>